<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Examples</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="" rel="stylesheet"></head>
    <script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>

<body>
    版本四
    <br>
    <script>
(function ($) {

    var o = $({});

    $.subscribe = function () {
        o.on.apply(o, arguments);
    };

    $.unsubscribe = function () {
        o.off.apply(o, arguments);
    };

    $.publish = function () {
        o.trigger.apply(o, arguments);
    };

} (jQuery));

//回调函数
function handle(e, a, b, c) {
    // `e`是事件对象，不需要关注
    console.log(a + b + c);
};

// 订阅
function subscript(){
    $.subscribe("/some/topic", handle);

    $.subscribe("/some/topic", function (e, a, b, c) {
    console.log(a + b + c);
});
}

//退订
function unsubscribe(){
    $.unsubscribe("/some/topic", handle); 
    $.unsubscribe("/some/topic"); 
}

//发布通知
function publish(){
    $.publish("/some/topic", ["a", "b", "c"]); // 输出abc
    $.publish("/some/topic", ["a", "b", "c"]); // 输出abc
}

    </script>

    <button type="button" onclick="subscript()" >订阅</button>

    <button type="button" onclick="publish()" >发布</button>

    <button type="button" onclick="unsubscribe()" >退订</button>

</body>
</html>